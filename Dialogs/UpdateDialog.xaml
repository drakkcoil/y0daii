<Window x:Class="Y0daiiIRC.UpdateDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Check for Updates" 
        Height="500" 
        Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#F8F9FA"
        TextElement.Foreground="#323130"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="14"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        FontFamily="Segoe UI">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="White" BorderBrush="#E1DFDD" BorderThickness="0,0,0,1">
            <Grid Height="48">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="16,0">
                    <materialDesign:PackIcon x:Name="UpdateIcon" Kind="Update" Width="20" Height="20" VerticalAlignment="Center" Foreground="#0078D4" Margin="0,0,8,0"/>
                    <TextBlock x:Name="HeaderText" Text="Check for Updates" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Center" Foreground="#323130"/>
                </StackPanel>
                
                <Button Grid.Column="1" 
                        Width="32" 
                        Height="32" 
                        Background="Transparent" 
                        BorderThickness="0" 
                        Click="CloseButton_Click"
                        Margin="16,0">
                    <materialDesign:PackIcon Kind="Close" Width="16" Height="16" Foreground="#605E5C"/>
                </Button>
            </Grid>
        </Border>

        <!-- Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Background="White">
            <StackPanel Margin="32" >
                
                <!-- Current Version Info -->
                <StackPanel >
                    <TextBlock Text="Current Version" FontSize="16" FontWeight="SemiBold" Foreground="#323130"/>
                    <Border Background="#F8F9FA" Padding="16" CornerRadius="8">
                        <StackPanel >
                            <StackPanel Orientation="Horizontal" >
                                <TextBlock Text="Version:" FontWeight="SemiBold" FontSize="14" Foreground="#323130" Width="80"/>
                                <TextBlock x:Name="CurrentVersionText" Text="1.0.0" FontSize="14" Foreground="#323130"/>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" >
                                <TextBlock Text="Build Date:" FontWeight="SemiBold" FontSize="14" Foreground="#323130" Width="80"/>
                                <TextBlock x:Name="BuildDateText" Text="2025-01-01" FontSize="14" Foreground="#323130"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Update Status -->
                <StackPanel x:Name="UpdateStatusPanel" >
                    <TextBlock Text="Update Status" FontSize="16" FontWeight="SemiBold" Foreground="#323130"/>
                    
                    <!-- Checking Status -->
                    <Border x:Name="CheckingPanel" Background="#F8F9FA" Padding="16" CornerRadius="8" Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal" >
                            <materialDesign:PackIcon Kind="Loading" Width="20" Height="20" Foreground="#0078D4">
                                <materialDesign:PackIcon.RenderTransform>
                                    <RotateTransform x:Name="LoadingRotation"/>
                                </materialDesign:PackIcon.RenderTransform>
                            </materialDesign:PackIcon>
                            <TextBlock Text="Checking for updates..." FontSize="14" Foreground="#323130"/>
                        </StackPanel>
                    </Border>

                    <!-- No Update Available -->
                    <Border x:Name="NoUpdatePanel" Background="#F0F8FF" Padding="16" CornerRadius="8" Visibility="Collapsed">
                        <StackPanel >
                            <StackPanel Orientation="Horizontal" >
                                <materialDesign:PackIcon Kind="CheckCircle" Width="20" Height="20" Foreground="#107C10"/>
                                <TextBlock Text="You're up to date!" FontSize="14" FontWeight="SemiBold" Foreground="#107C10"/>
                            </StackPanel>
                            <TextBlock Text="You have the latest version of y0daii IRC Client." FontSize="14" Foreground="#323130"/>
                        </StackPanel>
                    </Border>

                    <!-- Update Available -->
                    <Border x:Name="UpdateAvailablePanel" Background="#FFF4CE" Padding="16" CornerRadius="8" Visibility="Collapsed">
                        <StackPanel >
                            <StackPanel Orientation="Horizontal" >
                                <materialDesign:PackIcon Kind="AlertCircle" Width="20" Height="20" Foreground="#D83B01"/>
                                <TextBlock Text="Update Available!" FontSize="14" FontWeight="SemiBold" Foreground="#D83B01"/>
                            </StackPanel>
                            
                            <StackPanel >
                                <StackPanel Orientation="Horizontal" >
                                    <TextBlock Text="Latest Version:" FontWeight="SemiBold" FontSize="14" Foreground="#323130" Width="100"/>
                                    <TextBlock x:Name="LatestVersionText" Text="1.1.0" FontSize="14" Foreground="#323130"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" >
                                    <TextBlock Text="Release Date:" FontWeight="SemiBold" FontSize="14" Foreground="#323130" Width="100"/>
                                    <TextBlock x:Name="ReleaseDateText" Text="2025-01-15" FontSize="14" Foreground="#323130"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" >
                                    <TextBlock Text="File Size:" FontWeight="SemiBold" FontSize="14" Foreground="#323130" Width="100"/>
                                    <TextBlock x:Name="FileSizeText" Text="15.2 MB" FontSize="14" Foreground="#323130"/>
                                </StackPanel>
                            </StackPanel>

                            <!-- Release Notes -->
                            <StackPanel >
                                <TextBlock Text="What's New:" FontWeight="SemiBold" FontSize="14" Foreground="#323130"/>
                                <Border Background="White" Padding="12" CornerRadius="4" MaxHeight="120">
                                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                                        <TextBlock x:Name="ReleaseNotesText" TextWrapping="Wrap" FontSize="13" Foreground="#323130"/>
                                    </ScrollViewer>
                                </Border>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Download Progress -->
                    <Border x:Name="DownloadProgressPanel" Background="#F8F9FA" Padding="16" CornerRadius="8" Visibility="Collapsed">
                        <StackPanel >
                            <StackPanel Orientation="Horizontal" >
                                <materialDesign:PackIcon Kind="Download" Width="20" Height="20" Foreground="#0078D4"/>
                                <TextBlock Text="Downloading Update..." FontSize="14" FontWeight="SemiBold" Foreground="#323130"/>
                            </StackPanel>
                            
                            <ProgressBar x:Name="DownloadProgressBar" Height="8" Background="#E1DFDD" Foreground="#0078D4"/>
                            <StackPanel Orientation="Horizontal" >
                                <TextBlock x:Name="DownloadStatusText" Text="Downloading..." FontSize="12" Foreground="#605E5C"/>
                                <TextBlock x:Name="DownloadSpeedText" Text="" FontSize="12" Foreground="#605E5C"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Installation Progress -->
                    <Border x:Name="InstallProgressPanel" Background="#F8F9FA" Padding="16" CornerRadius="8" Visibility="Collapsed">
                        <StackPanel >
                            <StackPanel Orientation="Horizontal" >
                                <materialDesign:PackIcon Kind="Package" Width="20" Height="20" Foreground="#0078D4"/>
                                <TextBlock Text="Installing Update..." FontSize="14" FontWeight="SemiBold" Foreground="#323130"/>
                            </StackPanel>
                            <TextBlock Text="Please wait while the update is being installed. The application will restart automatically." FontSize="14" Foreground="#323130"/>
                        </StackPanel>
                    </Border>

                    <!-- Error Status -->
                    <Border x:Name="ErrorPanel" Background="#FEF2F2" Padding="16" CornerRadius="8" Visibility="Collapsed">
                        <StackPanel >
                            <StackPanel Orientation="Horizontal" >
                                <materialDesign:PackIcon Kind="AlertCircle" Width="20" Height="20" Foreground="#DC2626"/>
                                <TextBlock Text="Update Failed" FontSize="14" FontWeight="SemiBold" Foreground="#DC2626"/>
                            </StackPanel>
                            <TextBlock x:Name="ErrorText" TextWrapping="Wrap" FontSize="14" Foreground="#323130"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>

        <!-- Buttons -->
        <Border Grid.Row="2" Background="White" BorderBrush="#E1DFDD" BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" 
                        HorizontalAlignment="Right" 
                        Margin="16,12">
                <Button x:Name="CheckForUpdatesButton"
                        Content="Check for Updates"
                        Background="#0078D4"
                        Foreground="White"
                        BorderThickness="0"
                        Padding="16,8"
                        FontWeight="SemiBold"
                        Click="CheckForUpdatesButton_Click"
                        Margin="0,0,8,0"/>
                <Button x:Name="DownloadButton"
                        Content="Download &amp; Install"
                        Background="#107C10"
                        Foreground="White"
                        BorderThickness="0"
                        Padding="16,8"
                        FontWeight="SemiBold"
                        Click="DownloadButton_Click"
                        Margin="0,0,8,0"
                        Visibility="Collapsed"/>
                <Button x:Name="ViewReleasesButton"
                        Content="View All Releases"
                        Background="Transparent"
                        Foreground="#0078D4"
                        BorderThickness="1"
                        BorderBrush="#E1DFDD"
                        Padding="16,8"
                        FontWeight="SemiBold"
                        Click="ViewReleasesButton_Click"
                        Margin="0,0,8,0"/>
                <Button x:Name="CloseButton"
                        Content="Close"
                        Background="Transparent"
                        Foreground="#0078D4"
                        BorderThickness="1"
                        BorderBrush="#E1DFDD"
                        Padding="16,8"
                        FontWeight="SemiBold"
                        Click="CloseButton_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
